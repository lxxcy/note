# 第六章 循环
[TOC]
## 伪代码
* 伪代码的出现有助于设计程序的逻辑  

***

## while 循环
* 通用格式： 
```C 
    while（expression）  
    statement
```
>statement部分可以是以**分号**结尾的*简单语句*，也可使是**花括号**括起来的*复合语句*

* 基本运作：  
    expression为**真（非零）**，即执行statement  
    再次判断expression（该过程称*迭代*）  
    直到expression为**假（零）**，此时将退出循环  
* 终止while循环:  
    注意，构建while循环之前，必须让测试的表达式的值有变化，表达式最终要为假，否则循环就不会停止  
>实际上，可以使用break或if语句终止循环

* 何时终止循环：明确一点，只有在对测试表达式求值时，才决定是否终止还是继续循环
>while循环是使用*入口条件*的有条件循环，即必须满足条件才能进入循环体  

* 语法要点：牢记一点，只有在测试条件后面的**单独语句**（简单语句或者复合语句）才是**循环部分**  
>c中，单独的分号表示空语句   

>有时，会故意用带空语句的while语句，因为所有的任务都在测试条件中完成了，不需要循环体再做什么了
>
***

## 关系运算符——用关系运算符和表达式比较大小
### 关系运算
*关系表达式*：相互比较的测试表达式
*关系运算符*：关系表达式中间的运算符
|运算符|含义|
|:---|:---|
|<|小于|
|<=|小于**或**等于|
|==|等于|
|>=|大于**或**等于|
|>|大于|
|!=|不等于|
>提示：字符也能做比较，比较时使用的是机器字符码（如ASCII码）

注意：  
    1.不能用关系运算符比较字符串
    2.比较**浮点数**时，尽量只使用>和<，因为浮点数的舍入误差会导致在逻辑上本应相等的数却不相等
>math.h中有fabs（）函数用于比较浮点数，该函数返回一个浮点值的绝对值
用法如下：
```C
#include <stdio.h>
int main(void)
{
    const double ANSWER=3.14159;
    double response=12.3433;
    double a;
    a=fabs(response-ANSWER);
    printf("%d",a);
    
    return 0;
}
```
### 什么是真
c中的表达式都有一个值，关系表达式也不例外  
对c而言，表达式为真的值是1，表达式为假的值是0  
>其实对c来说，所有的**非零值**都视为真，只有0被视为假  

关系表达式为真，求值得1，；表达式为假，则求值为0；  
提示：不要在本应使用\=\=的地方使用\=，关系运算符\=\=会检查它左侧与右侧的值是否相等，但不会改变左侧变量的值

### _Bool类型（c99）
布尔变量（c中使用*_Bool*类型名）：编程中，表示**真**或**假**的变量  
_Bool类型的变量只能储存0或1  
如果将其他非零数据赋值给_Bool类型变量，该变量会被设置为1  
>这里反映c将所有非0值都视为真  

C99提供了*std.bool.h*头文件，使用该头文件可以使bool成为_Bool的别名，并且，还将**true**与**false**分别定义为1与0的**符号常量**  

### 关系运算符优先级
关系运算符的优先级比算数运算符低，但是比赋值运算符高  
* 高优先级组：< <=   > >=
* 低优先级组：== !=  

结合律：从左往右

|关系运算符（优先级从高到低）|结合律|
|:-|:-|
|（）|从左往右|
|—  +  ++  ——  sizeof|从右往左|
|\*  /  %|从左往右|
|+ -|从左往右|
|<  >  <=  >=|从左往右|
|==  !=|从左往右|
|=|从右往左|  

## 不确定循环和计数循环
不确定循环：测试表达式为假之前不知道要执行多少次循环  
计数循环：执行之前就知道要执行多少次  
注意：计数器的初始化放在循环外，就有可能忘记初始化  
>实践告诉我们，可能会发生的事情终究会发生  

## for循环——入口条件循环
* 通用格式：  
```C
    for(insitialize;test;update)
    statement
```
insitialize表达式是*初始化*，只会在**循环开始时**执行**一次**  
test表达式为*测试条件*，在**执行循环之前**对表达式求值  
update表达式执行更新，在**每次循环结束**时求值  
>圆括号中的三个表达式又称*控制表达式*，都是完整表达式，所以每个表达式的副作用都发生在对下一个表达式求值前  


statement部分为循环，可以是一条简单语句或者复合语句  
* for的灵活性
1. 可以使用递减运算符来递减计数器
2. 可以让计数器递增2、10等
3. 可以用字符代替数字计数
4. 除了测试迭代次数之外，还能测试其他条件
5. 可以让递增的量几何增长，而不是算数增长
6. 第三个表达式可以是任意合法表达式，每次迭代后都会更新该表达式的值
7. 可以省略一个或多个表达式（但是**不能省略分号**），只要在循环中包含能结束循环的语句即可
>for循环是入口条件循环，在循环执行之前就决定了是否执行循环，因此，该循环可能一次都 不执行
8. 第一个表达式不一定是给变量赋值，也可以使用printf（）。记住，在执行循环的其他部分之前，只对第一个表达式求值一次或执行一次  
9. 循环体中的行为可以改变循环头中的表达式

### 其他赋值运算符：+=、-=、\*=、/=、%=  
这些运算符用于更新变量
用法：左侧为变量名，右侧为表达式，赋给变量的新值是根据右侧表达式的值调整后的值  
例如：
```C
scores+=20  即为：scores=scores+20
```
优点：使代码更紧凑，并且生成的机器代码更高效  
### 逗号运算符
该运算符扩展了for循环的灵活性，以便在循环头中包含更多的表达式  
作用：  
* 分隔表达式（用作**分隔符**）
* 保证了分隔的表达式**从左往右**求值（即逗号是一个*序列点*，左侧项的所有副作用均在程序执行逗号右侧项之前发生）
* 整个逗号表达式的值是**右侧项**的值
>注意：分号也是一个序列点，任何表达式后面加上一个分号就成了表达式语句  

### 当Zone遇到for循环
启示：在进行复杂的计算之前，先看看数学 上是否有简单的方法可用

## 出口条件循环：do while  
*出口条件循环*：在循环的每次迭代之后检查测试条件，这保证了至少执行循环体中的内容一次  
* 通用格式：  
```C 
    do
    statement
    whlie(expression);
```
该循环以分号结尾，适用于那些至少需要迭代一次的循环  

## 如何选择循环
1. 确定需要入口条件循环还是出口条件循环  

>通常入口条件循环用得比较多
* 执行循环之前测试条件比较好
* 可读性更高

2. 假设需要一个入口条件循环，for和while取决于个人喜好
>一般而言，涉及初始化和更新变量时，for循环更合适，其他情况用while循环更好  

>对于涉及索引计数的循环，for循环更合适

## 嵌套循环  
即在一个循环内包含另一个循环  
>注意：嵌套循环中的内层循环在每次外层循环迭代时，都执行完所有的循环  

可以通过外层循环控制内层循环，在每次外层循环迭代时，内层循环完成不同的任务  









